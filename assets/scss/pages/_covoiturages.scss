@use "../abstracts/variables" as *;
@use "../abstracts/mixins" as mixin;
@use "../components/button" as btn;

// -------------------- Filter Bar --------------------
.filter-section {
    .filter-bar {
        background: var(--list-bg);
        backdrop-filter: blur(6px);
        border: 1px solid var(--color-secondary);
        border-radius: 8px;
        padding: 0.5rem 1rem;

        .btn-filter {
            border: 1px solid var(--color-secondary);
            display: flex;
            align-items: center;
            color: var(--text-black);
        }
        .btn-sort {
            border: 1px solid var(--color-secondary);
            color: var(--text-black);
        }
    }
}
.dropdown-menu {
    background: var(--list-bg);
    a {
        color: var(--text-black);
    }
}

// Très petits écrans uniquement (< 360px): recentre et empile la barre de filtres
@media (max-width: 360px) {
    .filter-section {
        .filter-bar {
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }
    }
}

.carpool-card {
    background: rgba(255, 255, 255, 0.082);
    border-radius: 12px;
    padding: 1.5rem;
    box-shadow: 0 2px 8px rgba($text-black, 0.1);
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    transition: transform 0.2s, box-shadow 0.2s;
    border: 1px solid $color-secondary;

    &:hover {
        transform: translateY(-4px);
        box-shadow: var(--shadow-box);
    }

    // ----- Header -----
    .card-header {
        .card-info {
            margin-left: 6rem;
            display: flex;
            flex-wrap: wrap;
            align-items: center;

            .date,
            .price,
            .sep {
                font-size: clamp(1.2rem, 2vw, 1.5rem);
                color: var(--text-black);
                text-shadow: $shadow-text;
            }

            .badge-eco {
                background: $color-secondary;
                color: $text-black;
                font-size: 0.9rem;
                text-transform: lowercase;
                padding: 0.25em;
                border-radius: 6px;
                border: 1px solid $color-primary;
            }
        }

        .card-time {
            display: flex;
            align-items: center;
            font-size: clamp(1.2rem, 2vw, 1.5rem);
            color: var(--text-black);
            text-shadow: $shadow-text;

            i {
                margin-right: 0.3rem;
            }
        }
    }

    // ----- Body -----
    .card-body {
        .avatar {
            width: 80px;
            height: 80px;
            flex-shrink: 0;
            object-fit: cover;
        }

        .details {
            margin-left: 2rem;
            h5 {
                color: var(--text-black);
                text-shadow: $shadow-text;
                font-size: 1.5rem;
                margin-bottom: 0.5rem;
            }
            ul {
                list-style: none;
                padding: 0;
                margin: 0;
                li {
                    font-size: clamp(1rem, 2vw, 1.2rem);
                    color: var(--text-black);
                    text-shadow: 1px 1px 2px rgba(var(--text-black), 0.1);

                    line-height: 1.4;
                    margin-bottom: 0.25rem;
                }
            }
        }

        .btn-participate {
            align-self: flex-start;
            margin-top: 0.5rem;
            padding: 1.5rem;
        }
    }

    // ----- Footer -----
    .card-footer {
        display: flex;
        justify-content: space-between;
        .stars {
            display: flex;
            gap: 0.3rem;
            margin-left: 6rem;
            .star {
                font-size: 1.8rem;
                color: var(--text-black);
                text-shadow: $shadow-text;

                cursor: pointer;
                transition: transform 0.2s, color 0.2s;
                &:hover {
                    transform: scale(1.2);
                    color: #ffc107;
                }
            }
        }
    }
}

// ==== Mobile : empilement parfait (< 768px) ====

@media (max-width: 767px) {
    .carpool-card {
        padding: 1rem;

        .card-header {
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            align-items: center !important;
            .card-info {
                justify-content: center;
                margin-bottom: 0.75rem;
            }
        }

        .card-body {
            flex-direction: column !important;
            align-items: center !important;
            text-align: center;
            .btn-participate {
                margin: 1rem auto 0 !important;
            }
        }

        .card-footer {
            text-align: center;
            margin-top: 1rem;
        }
    }
}
@media (max-width: 992px) {
    .carpool-card {
        padding: 1rem;

        .card-header {
            display: flex;
            align-items: center;
            .card-info {
                margin-bottom: 0.75rem;
                margin-left: 0;
            }
        }

        .card-body {
            flex-direction: column !important;
            align-items: center !important;
            text-align: center;
            .btn-participate {
                margin: 1rem auto 0 !important;
            }
        }

        .card-footer {
            margin-left: 0;
            .stars {
                display: flex;
                gap: 0.3rem;
                margin-left: 0;
                .star {
                    font-size: 1.4rem;
                    cursor: pointer;
                    transition: transform 0.2s, color 0.2s;
                    &:hover {
                        transform: scale(1.2);
                        color: #ffc107;
                    }
                }
            }
        }
    }
}
