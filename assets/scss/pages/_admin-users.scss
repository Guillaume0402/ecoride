@use "../abstracts" as *;

/* -------------------------------------------------------
   Admin Users / Employees - Tables + Mobile Cards   
-------------------------------------------------------- */

/* Card headers: cohérence light/dark */
:root .card-header.bg-primary { color: #111 !important; }
.theme-alt .card-header.bg-primary { color: #fff !important; }

/* Tabs */
.nav-tabs {
  .nav-link.active {
    background-color: $color-primary !important;
    color: #fff !important;
    border-color: $color-secondary !important;
    font-weight: 700;
  }

  .nav-link:hover {
    background-color: #2ecc71 !important;
    color: #000 !important;
  }
}

/* Colonnes actions (desktop) */
.actions-col,
.actions-col-user {
  white-space: nowrap;
  text-align: center;
  vertical-align: middle;
}
.actions-col { width: 150px; }
.actions-col-user { width: 100px; }

/* ------------
   Scope admin
--------------- */
.admin-side ~ section {
  overflow-x: hidden;

  /* Wrapper responsive : on neutralise le scroll horizontal bootstrap en admin */
  .table-responsive {
    width: 100%;
    overflow-x: hidden !important;
    -webkit-overflow-scrolling: touch;

    /* Table: couleurs via variables admin */
    .table {
      width: 100%;
      min-width: 0 !important;
      border-color: var(--admin-card-border) !important;
      color: var(--admin-card-text) !important;
      background: var(--admin-card-bg) !important;

      th,
      td {
        border-color: var(--admin-card-border) !important;
        color: var(--admin-card-text) !important;
        background: var(--admin-card-bg) !important;

        white-space: normal;
        overflow-wrap: anywhere;
        word-break: break-word;
      }
    }

    /* Thead: thème clair vs dark */
    html:not(.theme-alt) & .table thead th {
      background: #eaf2e3 !important;
      color: #111 !important;
    }
    .theme-alt & .table thead th {
      background: var(--color-primary) !important;
      color: #fff !important;
    }
  }
}

/* ---------------------------------------
   Desktop / tablette : table classique 
--------------------------------------- */
@media (min-width: 769px) {
  .admin-side ~ section .table-responsive .table {
    table-layout: auto;
  }
}

/* -------------------------------------------------------
   Mobile : table -> cartes + suppression du “carré blanc”
-------------------------------------------------------- */
@media (max-width: 768px) {
  .admin-side ~ section .table-responsive {
    /* tue le rectangle blanc global (table/table-striped) */
    background: transparent !important;

    .table,
    .table tbody {
      background: transparent !important;
      table-layout: auto !important;
      min-width: 0 !important;
    }

    .table thead { display: none; }

    .table tbody,
    .table tr,
    .table td {
      display: block;
      width: 100%;
    }

    .table tbody tr {
      margin: 0 0 1rem 0;
      border: 1px solid var(--admin-card-border);
      border-radius: 10px;
      padding: 0.75rem;
      background: var(--admin-card-bg) !important;
    }

    .table tbody td {
      display: flex;
      align-items: flex-start;
      gap: 10px;
      padding: 0.5rem 0;

      border: 0;
      border-bottom: 1px solid var(--admin-card-sep);
    }

    .table tbody td::before {
      content: attr(data-label);
      font-weight: 700;
      min-width: 90px;
      color: var(--admin-card-text) !important;
    }

    /* Neutralise les bandes de table-striped si je la gardes dans le HTML */
    .table.table-striped > tbody > tr:nth-of-type(odd) > * {
      background: transparent !important;
    }
  }
}
