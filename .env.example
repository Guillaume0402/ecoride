# =======================================================
# CONFIGURATION D'ENVIRONNEMENT - TEMPLATE (.env.example)
# =======================================================
#
# Ce fichier est un EXEMPLE.
# Copie-le en .env.local puis adapte les valeurs.
#
# Objectif:
# - Garder ce fichier propre (pas de doublons)
# - Fournir des exemples DEV (Mailpit) et PROD (SendGrid)
# =======================================================

# -------------------------------------------------------
# CONFIGURATION BASE DE DONNÉES MYSQL
# -------------------------------------------------------
DB_NAME=your_database
DB_HOST=your_host
DB_USER=your_user
DB_PASSWORD=your_password
DB_PORT=3306


# -------------------------------------------------------
# CONFIGURATION APPLICATION
# -------------------------------------------------------
# dev | prod
APP_ENV=dev

# URL du site (utile pour générer des liens dans les mails, redirections, etc.)
SITE_URL=http://localhost:8080/

# Timezone applicative (logs, dates, etc.)
APP_TZ=Europe/Paris


# -------------------------------------------------------
# MONGODB (optionnel)
# -------------------------------------------------------
MONGO_DSN=mongodb://mongo:27017
MONGO_DB=ecoride


# -------------------------------------------------------
# EMAIL / SMTP
# -------------------------------------------------------
# Adresse d'expéditeur (From) par défaut
# Important en PROD: utiliser un domaine authentifié (SPF/DKIM/DMARC).
MAIL_FROM=no-reply@ecoride.local
MAIL_FROM_NAME=EcoRide

# Adresse de réponse (Reply-To) optionnelle
MAIL_REPLY_TO=

# Si SMTP_HOST est défini, l'envoi utilise PHPMailer en SMTP.
# Sinon, l'app utilisera le fallback (log) selon l'environnement.
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=

# Sécurité SMTP:
# - tls : STARTTLS (souvent port 587)
# - ssl : TLS direct (souvent port 465)
# - vide : pas de chiffrement (utile pour Mailpit en dev)
SMTP_SECURE=tls

# AutoTLS:
# - 1 : PHPMailer tente automatiquement STARTTLS si dispo (recommandé, robuste)
# - 0 : désactive l'auto-négociation TLS (à éviter sauf cas spécial)
SMTP_AUTOTLS=1

# Debug SMTP PHPMailer:
# 0 = OFF, 1 = client, 2 = client + serveur
SMTP_DEBUG=0


# -------------------------------------------------------
# DKIM (signature côté application) - optionnel
# -------------------------------------------------------
# Si tu utilises SendGrid avec "Domain Authentication", SendGrid signe déjà (DKIM) :
# -> laisse DKIM_ENABLE=0 (recommandé)
# Si tu veux FORCER la signature DKIM par l'app :
# -> DKIM_ENABLE=1 + renseigner les champs ci-dessous
DKIM_ENABLE=0
DKIM_DOMAIN=
DKIM_SELECTOR=
# DKIM_PRIVATE_KEY peut être :
# - la clé en texte (contenu PEM)
# - ou un chemin file:// (ex: file:///app/config/dkim_private.key)
DKIM_PRIVATE_KEY=
DKIM_PASSPHRASE=


# -------------------------------------------------------
# (Optionnel) List-Unsubscribe
# -------------------------------------------------------
# Utile si tu envoies des emails non strictement transactionnels (newsletter, promos).
LIST_UNSUBSCRIBE_URL=
LIST_UNSUBSCRIBE_MAILTO=
# 1 = active le mode "One-Click"
LIST_UNSUBSCRIBE_POST=0


# -------------------------------------------------------
# RÈGLES MÉTIER
# -------------------------------------------------------
# Nombre de crédits débités au conducteur lors de la création d'un trajet
RIDE_CREATE_FEE_CREDITS=2


# -------------------------------------------------------
# EXEMPLES PRÊTS À COPIER (ne pas activer les deux)
# -------------------------------------------------------

# ===== DEV (Mailpit) =====
# Si tu es en Docker avec le service "mailpit", utilise:
# SMTP_HOST=mailpit
# SMTP_PORT=1025
# SMTP_SECURE=
# SMTP_USER=
# SMTP_PASS=

# ===== PROD (SendGrid) =====
# SMTP_HOST=smtp.sendgrid.net
# SMTP_PORT=587
# SMTP_SECURE=tls
# SMTP_USER=apikey
# SMTP_PASS=__SENDGRID_API_KEY__
